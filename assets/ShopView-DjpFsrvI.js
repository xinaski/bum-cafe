import{r as g,j as v,c as _,b as u,d as s,k,l as f,v as x,F as i,h as p,u as y,t as c,m as h,p as T,i as l,q as w}from"./index-CrUKkh_s.js";import{P as S,T as A,F as N,_ as V}from"./ProductCard-AoD2w3R4.js";const B="/miscelanea/img-noproduct.png",L={class:"container-page py-8"},U={class:"mb-6 grid grid-cols-1 sm:grid-cols-3 gap-3"},j=["value"],C=["value"],D={class:"text-sm text-slate-500 mb-3"},F={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},I={key:0,class:"text-center py-10"},q={__name:"ShopView",setup(O){const d=h(),b=T(),a=g(""),r=g("");v(()=>d.query,o=>{a.value=typeof o.tipus=="string"?o.tipus:"",r.value=typeof o.format=="string"?o.format:""},{immediate:!0}),v([a,r],([o,t])=>{const e={};o&&(e.tipus=o),t&&(e.format=t);const m=d.query||{};(m.tipus??"")===(e.tipus??"")&&(m.format??"")===(e.format??"")||b.replace({query:e})});const n=_(()=>S.filter(o=>(!a.value||o.tipus===a.value)&&(!r.value||o.format===r.value)));return(o,t)=>(l(),u(i,null,[t[6]||(t[6]=s("section",{class:"bg-center bg-no-repeat bg-[url('/miscelanea/img-coffeeshop.jpg')] bg-gray-600 bg-blend-multiply mb-6"},[s("div",{class:"px-4 mx-auto max-w-screen-xl py-24 lg:py-24"},[s("p",{class:"text-3xl text-white font-semibold tracking-wide uppercase transform scale-x-125 origin-left"}," Botiga ")])],-1)),s("section",L,[s("div",U,[f(s("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),class:"border rounded-2xl px-3 py-2"},[t[3]||(t[3]=s("option",{value:""},"Tots els tipus",-1)),(l(!0),u(i,null,p(y(A),e=>(l(),u("option",{key:e,value:e},c(e==="collonut"?"COLLONUT":e==="espavilat"?"ESPAVILA'T":"DE LA IAIA"),9,j))),128))],512),[[x,a.value]]),f(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.value=e),class:"border rounded-2xl px-3 py-2"},[t[4]||(t[4]=s("option",{value:""},"Tots els formats",-1)),(l(!0),u(i,null,p(y(N),e=>(l(),u("option",{key:e,value:e},c(e==="capsules"?"cÃ psules":e),9,C))),128))],512),[[x,r.value]]),s("button",{onClick:t[2]||(t[2]=e=>{a.value="",r.value=""}),class:"border rounded-2xl px-3 py-2 hover:bg-slate-50 text-left"}," Neteja filtres ")]),s("p",D," #productes: "+c(n.value.length),1),s("div",F,[(l(!0),u(i,null,p(n.value,e=>(l(),w(V,{key:e.id,p:e},null,8,["p"]))),128))]),n.value.length===0?(l(),u("figure",I,[...t[5]||(t[5]=[s("img",{class:"object-cover w-full h-96 rounded xl:h-96 my-6",src:B,alt:"No hi ha productes"},null,-1),s("figcaption",{class:"text-base text-gray-700 md:text-xl"}," No hi ha productes amb aquests filtres. ",-1)])])):k("",!0)])],64))}};export{q as default};
